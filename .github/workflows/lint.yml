name: Lint

on: # yamllint disable-line rule:truthy
  push: null
  pull_request: null

permissions: {}

env:
  GIT_DISCOVERY_ACROSS_FILESYSTEM: 1
  FILTER_REGEX_EXCLUDE: \.git/.*

jobs:
  build:
    name: Lint
    runs-on: ubuntu-latest

    permissions:
      contents: read
      packages: read
      # To report GitHub Actions status checks
      statuses: write

    steps:
    - name: Checkout code
      uses: actions/checkout@v3
      with:
        # super-linter needs the full git history to get the
        # list of files that changed across commits
        fetch-depth: 0

    - name: Super-linter
      uses: super-linter/super-linter/slim@latest # x-release-please-version
      env:
        LINTER_RULES_PATH: '.'
        VALIDATE_ALL_CODEBASE: true
        VALIDATE_JAVASCRIPT_ES: false
        VALIDATE_PYTHON_BLACK: false
        VALIDATE_HTML: false
        VALIDATE_GO: false
        VALIDATE_XML: false
        VALIDATE_JAVA: false
        # To report GitHub Actions status checks
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
